{{ define "main" }}
<main class="page-main pa4 {{ .Kind }}" role="main">
  <section class="blog-content mw7 center">
    {{ $caller := . }}
    {{ $paginator := .Paginate (where .RegularPagesRecursive "Type" "blog") }}
    {{ $sort_weight := .Params.sort_weight | default false }}
    {{ if $sort_weight }}
      {{ range $paginator.Pages.ByWeight }}
        {{ .Scratch.Set "$root" $caller }}
        {{ partial "shared/summary" . }}
      {{ end }}
    {{ else }}
      {{ range $paginator.Pages.ByDate.Reverse }}
        {{ .Scratch.Set "$root" $caller }}
        {{ partial "shared/summary" . }}
      {{ end }}
    {{ end }}
    {{ partial "shared/list-pagination.html" . }}
  </section>
</main>
<aside class="page-sidebar" role="complementary">
  {{ partial "shared/sidebar-content.html" . }}
</aside>
{{ end }}
